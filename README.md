# ScoreWorker - Система анализа обратной связи сотрудников

**ScoreWorker** — это система анализа обратной связи сотрудников, предназначенная для оценки и генерации сводной информации о сотрудниках на основе отзывов коллег и руководителей. Система построена на базе Django для бэкенда, HTML/CSS/JavaScript для фронтенда, Python для обработки данных и Figma для разработки интерфейса.

## Описание проекта

Основная задача **ScoreWorker** — создание динамичной системы отзывов, которая позволяет:
- **Суммировать оценки сотрудников** на основе обратной связи.
- **Оценивать навыки по заданным критериям**.
- **Выделять технические навыки (hard skills)**, указанные в отзывах.
- **Определять общую оценку** сотрудника по шкале от 1 до 5 на основе всех отзывов.

Система использует графическое представление "колесо баланса" для визуализации оценки soft skills и применяет методы машинного обучения для анализа стиля самооценки сотрудника.

---

## Функциональные возможности

1. **Оценка компетенций**  
   ScoreWorker использует машинное обучение для определения и оценки soft skills сотрудников на основе отзывов. Основные компетенции включают:
   - Профессионализм
   - Инициативность
   - Решение конфликтов
   - Лидерство
   - Тайм-менеджмент
   - Адаптивность
   - Ответственность
   - Целеустремленность
   - Саморазвитие
   - Коммуникация

2. **Выделение hard skills**  
   На основе обработки естественного языка система извлекает технические навыки, упомянутые в отзывах, исключая soft skills, и возвращает только ключевые профессиональные компетенции.

3. **Анализ самооценки**  
   Система анализирует согласованность самооценки сотрудника с обратной связью от коллег, определяя склонность к чрезмерно положительной или отрицательной самооценке.

4. **Автоматическая генерация краткого резюме**  
   На основе методов обработки естественного языка (NLP) система генерирует краткое резюме производительности сотрудника.

---

## Стек технологий

- **Бэкенд**: Django
- **Фронтенд**: HTML, CSS, JavaScript
- **Машинное обучение**: Bart-embedder, prompt-engineering
- **Обработка данных**: Python с использованием API для продвинутого анализа текста
- **Дизайн**: Figma для прототипирования интерфейса

---

## Описание кода

### 1. Оценка компетенций

```python
import json
from typing import List, Dict

competencies = [
    "Профессионализм", "Инициативность", "Умение решать конфликты", "Лидерство", 
    "Таймменеджмент", "Адаптивность", "Ответственность", "Целеустремленность", 
    "Саморазвитие", "Коммуникация"
]

def evaluate_competencies(reviews: List[str], api_url: str) -> Dict[str, Dict[str, str]]:
    prompt = f"Учитывая отзывы, определите присутствие компетенций и оцените их."
    data = {
        "prompt": [prompt],
        "apply_chat_template": True,
        "system_prompt": "Анализ компетенций сотрудников.",
        "max_tokens": 4096,
        "temperature": 0.2,
    }
    headers = {"Content-Type": "application/json"}
    response = requests.post(api_url, data=json.dumps(data), headers=headers)
    return json.loads(response.text)
```

### 2. Извлечение hard skills

```python
def extract_hard_skills(reviews: List[str], api_url: str) -> List[str]:
    prompt = f"Извлеките hard skills из следующих отзывов: {reviews}."
    data = {
        "prompt": [prompt],
        "apply_chat_template": False,
        "max_tokens": 100,
        "temperature": 0.2,
    }
    response = requests.post(api_url, data=json.dumps(data), headers={"Content-Type": "application/json"})
    return json.loads(response.text)
```

### 3. Анализ самооценки

```python
def analyze_review_style(api_url, self_reviews, summary, worker_id) -> str:
    prompt = f"Проанализируй самооценку сотрудника {worker_id}. Описание: {summary}."
    data = {
        "prompt": [prompt],
        "apply_chat_template": True,
        "max_tokens": 200,
        "temperature": 0.2
    }
    response = requests.post(api_url, data=json.dumps(data), headers={"Content-Type": "application/json"})
    return response.text
```

### 4. Генерация отчета

Функция генерации отчета объединяет оценки компетенций, выделенные hard skills и краткое резюме в структурированный отчет.

```python
def get_report(worker_id, reviews=None):
    competencies = get_competencies(worker_id, reviews)
    hard_skills = get_hardskills(worker_id, reviews)
    score = calculate_score(competencies)

    data = {
        'competencies': competencies,
        'hard skills': hard_skills,
        'score': score,
    }
    return data
```

---

## Рабочий процесс

1. **Сбор данных**: Получение и очистка отзывов, чтобы оставить только полезную информацию.
2. **Обработка данных**:
   - Генерация сводного резюме.
   - Выделение и оценка компетенций и hard skills.
3. **Анализ**: Система оценивает самооценку сотрудника, сравнивая его отзывы с оценками от коллег.
4. **Визуализация**: Представление оценок soft skills на круговой диаграмме для наглядного восприятия.
5. **Вывод**: Генерация и сохранение детализированного отчета в формате JSON, который можно отобразить в HTML с использованием CSS.

---

## Визуализация

Для наглядного представления оценок soft skills используется круговая диаграмма, отображающая значения следующих шагов:
1. **Генерация оценок компетенций** через `evaluate_competencies`.
2. **Построение диаграммы** с использованием JavaScript для представления каждой компетенции.
3. **Отображение итоговой оценки** в виде средней оценки по всем компетенциям.

---

## Интеграция с API

- **API URL**: Используется для NLP-задач и анализа текста.
- **Библиотека requests**: Применяется для выполнения API-запросов, генерации сводок, анализа отзывов и оценки компетенций.

---

## Варианты улучшений

- **Углубленный анализ настроения**: Добавление анализа настроения для более точной оценки самооценки.
- **Дополнительные визуализации**: Добавление временных линий для анализа динамики изменения оценок.
- **Автоматизация отчетности**: Автоматическое создание и отправка отчетов по расписанию.

---

## Установка и запуск

1. **Склонируйте репозиторий**:
   ```bash
   git clone <repository-url>
   ```
2. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```
3. **Запустите сервер Django**:
   ```bash
   python manage.py runserver
   ```
4. **Откройте панель управления**: Перейдите по адресу `http://localhost:8000`, чтобы получить доступ к интерфейсу.

---

## Примеры

- **Сгенерированное резюме**:
   ```json
   {
       "competencies": [{"competency": "Коммуникация", "score": 5, "reason": "Вежливость и конструктивность"}],
       "hard skills": ["Программирование", "Аналитика"],
       "score": 4.6
   }
   ```

## Лицензия

Проект распространяется под лицензией MIT.

Для более подробной информации по настройке и дизайну системы, обращайтесь к исходному коду и не стесняйтесь писать разработчикам напрямую:
- **ML-инженеры** - [Чулпан](https://t.me/Chehmet), [Миляуша](https://t.me/mili_sham), [Назгуль](https://t.me/kokosinka123)
- **Backend developer** - [Галия](https://t.me/donna_Kupidona)
- **Frontend developer** - [Любовь](https://t.me/mangocandle)
